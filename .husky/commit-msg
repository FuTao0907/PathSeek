#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# æ£€æŸ¥æäº¤ä¿¡æ¯æ ¼å¼
# æ ¼å¼: type(scope): description
# ä¾‹å¦‚: feat(theme): add dark mode support

commit_regex='^(feat|fix|docs|style|refactor|test|chore|perf|ci|build)(\(.+\))?: .{1,50}'

if ! grep -qE "$commit_regex" "$1"; then
    echo "âŒ æäº¤ä¿¡æ¯æ ¼å¼ä¸æ­£ç¡®!"
    echo "ğŸ“ æ­£ç¡®æ ¼å¼: type(scope): description"
    echo "ğŸ“‹ å¯ç”¨ç±»å‹:"
    echo "   feat:     æ–°åŠŸèƒ½"
    echo "   fix:      ä¿®å¤bug"
    echo "   docs:     æ–‡æ¡£æ›´æ–°"
    echo "   style:    ä»£ç æ ¼å¼è°ƒæ•´"
    echo "   refactor: ä»£ç é‡æ„"
    echo "   test:     æµ‹è¯•ç›¸å…³"
    echo "   chore:    æ„å»º/å·¥å…·é“¾"
    echo "   perf:     æ€§èƒ½ä¼˜åŒ–"
    echo "   ci:       CI/CDç›¸å…³"
    echo "   build:    æ„å»ºç›¸å…³"
    echo "ğŸ’¡ ç¤ºä¾‹: feat(theme): add dark mode support"
    exit 1
fi

echo "âœ… æäº¤ä¿¡æ¯æ ¼å¼æ­£ç¡®"